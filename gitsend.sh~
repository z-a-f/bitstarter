#!/usr/bin/env bash

# Defaults:
FILES="*"
MESSAGE="AUTOCOMMIT: `date`"
GITHOST=""
GITNODE=""

# Check the arguments:
while test $# -gt 0; do
    case "$1" in
	-f)
	    FILES="$2"
	    shift 2
	    ;;
	-m)
	    MESSAGE="$2"
	    shift 2
	    ;;
	-h)
	    GITHOST="$2"
	    GITNODE="$3"
	    shift 3
	    ;;
	*)
	    exit 0;
	    ;;
    esac
done

# echo "${MESSAGE} - ${GITHOST}"
git status
git add "${FILES}"
git commit -m "${MESSAGE}"
git push ${GITHOST}
git status
